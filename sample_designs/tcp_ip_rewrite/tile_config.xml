<design>
<nocs>
    <noc>
        <noc_name>data_noc0</noc_name>
        <noc_width_def>`NOC_DATA_WIDTH</noc_width_def>
    </noc>
</nocs>
<tiles>
    <num_x_tiles>4</num_x_tiles>
    <num_y_tiles>5</num_y_tiles>
    <endpoint>
        <endpoint_name>eth_rx_tile</endpoint_name>
        <port_name>eth_rx</port_name>
        <endpoint_x>0</endpoint_x>
        <endpoint_y>0</endpoint_y>
        <interfaces>
            <interface>
                <if_name>eth_pkt_rx</if_name>
                <fbits>PKT_IF_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>ip_rx_tile</endpoint_name>
                        <endpoint_tag>`ETH_TYPE_IPV4</endpoint_tag>
                        <if_name>ip_pkt_rx</if_name>
                        <cam_target/>
                    </dst_endpoint>
                </dsts>
            </interface>
        </interfaces>
    </endpoint>
    <endpoint>
        <endpoint_name>eth_tx_tile</endpoint_name>
        <port_name>eth_tx</port_name>
        <endpoint_x>3</endpoint_x>
        <endpoint_y>0</endpoint_y>
        <interfaces>
            <interface>
                <if_name>eth_pkt_tx</if_name>
                <fbits>PKT_IF_FBITS</fbits>
            </interface>
            <interface>
                <if_name>eth_tx_latency_log_req</if_name>
                <fbits>ETH_LATENCY_LOGGER_READ_IF_FBITS</fbits>
            </interface>
            <interface>
                <if_name>eth_tx_latency_log_resp</if_name>
                <fbits>ETH_LATENCY_LOGGER_READ_IF_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>udp_tx_tile</endpoint_name>
                        <if_name>udp_pkt_tx</if_name>
                    </dst_endpoint>
                </dsts>
            </interface>
        </interfaces>
    </endpoint>
    <endpoint>
        <endpoint_name>ip_rx_tile</endpoint_name>
        <port_name>ip_rx</port_name>
        <endpoint_x>1</endpoint_x>
        <endpoint_y>0</endpoint_y>
        <interfaces>
            <interface>
                <if_name>ip_pkt_rx</if_name>
                <fbits>PKT_IF_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>udp_rx_tile</endpoint_name>
                        <endpoint_tag>`IPPROTO_UDP</endpoint_tag>
                        <if_name>udp_pkt_rx</if_name>
                        <cam_target/>
                    </dst_endpoint>
                    <dst_endpoint>
                        <endpoint_name>ip_rewrite_rx_tile</endpoint_name>
                        <endpoint_tag>`IPPROTO_TCP</endpoint_tag>
                        <if_name>ip_rewrite_pkt</if_name>
                        <cam_target/>
                    </dst_endpoint>
                </dsts>
            </interface>
        </interfaces>
    </endpoint>
    <endpoint>
        <endpoint_name>ip_tx_tile</endpoint_name>
        <port_name>ip_tx</port_name>
        <endpoint_x>2</endpoint_x>
        <endpoint_y>0</endpoint_y>
        <interfaces>
            <interface>
                <if_name>ip_pkt_tx</if_name>
                <fbits>PKT_IF_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>eth_tx_tile</endpoint_name>
                        <if_name>eth_pkt_tx</if_name>
                    </dst_endpoint>
                </dsts>
            </interface>
        </interfaces>
    </endpoint>
    <endpoint>
        <endpoint_name>ip_rewrite_rx_tile</endpoint_name>
        <port_name>ip_rewrite_rx</port_name>
        <endpoint_x>0</endpoint_x>
        <endpoint_y>1</endpoint_y>
        <interfaces>
            <interface>
                <if_name>ip_rewrite_pkt</if_name>
                <fbits>PKT_IF_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>tcp_logger_rx_tile</endpoint_name>
                        <if_name>tcp_logger_record</if_name>
                        <endpoint_tag>`IPPROTO_TCP</endpoint_tag>
                        <cam_target/>
                    </dst_endpoint>
                </dsts>
            </interface>
            <interface>
                <if_name>ip_rewrite_ctrl_req</if_name>
                <fbits>IP_REWRITE_TABLE_CTRL_FBITS</fbits>
            </interface>
            <interface>
                <if_name>ip_rewrite_ctrl_resp</if_name>
                <fbits>IP_REWRITE_TABLE_CTRL_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>ip_rewrite_manager_rx_tile</endpoint_name>
                        <if_name>ip_rewrite_tile_ctrl_resp</if_name>
                    </dst_endpoint>
                </dsts>
            </interface>
        </interfaces>
    </endpoint>
    <endpoint>
        <endpoint_name>ip_rewrite_tx_tile</endpoint_name>
        <port_name>ip_rewrite_tx</port_name>
        <endpoint_x>3</endpoint_x>
        <endpoint_y>1</endpoint_y>
        <interfaces>
            <interface>
                <if_name>ip_rewrite_pkt</if_name>
                <fbits>PKT_IF_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>ip_tx_tile</endpoint_name>
                        <if_name>ip_pkt_tx</if_name>
                    </dst_endpoint>
                </dsts>
            </interface>
            <interface>
                <if_name>ip_rewrite_ctrl_req</if_name>
                <fbits>IP_REWRITE_TABLE_CTRL_FBITS</fbits>
            </interface>
            <interface>
                <if_name>ip_rewrite_ctrl_resp</if_name>
                <fbits>IP_REWRITE_TABLE_CTRL_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>ip_rewrite_manager_rx_tile</endpoint_name>
                        <if_name>ip_rewrite_tile_ctrl_resp</if_name>
                    </dst_endpoint>
                </dsts>
            </interface>
        </interfaces>
    </endpoint>
    <endpoint>
        <endpoint_name>udp_rx_tile</endpoint_name>
        <port_name>udp_rx</port_name>
        <endpoint_x>1</endpoint_x>
        <endpoint_y>1</endpoint_y>
        <interfaces>
            <interface>
                <if_name>udp_pkt_rx</if_name>
                <fbits>PKT_IF_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>tcp_logger_rx_tile</endpoint_name>
                        <endpoint_tag>TCP_LOGGER_RX_PORT</endpoint_tag>
                        <if_name>tcp_logger_read_req</if_name>
                        <cam_target/>
                    </dst_endpoint>
                    <dst_endpoint>
                        <endpoint_name>tcp_logger_tx_tile</endpoint_name>
                        <endpoint_tag>TCP_LOGGER_TX_PORT</endpoint_tag>
                        <if_name>tcp_logger_read_req</if_name>
                        <cam_target/>
                    </dst_endpoint>
                    <dst_endpoint>
                        <endpoint_name>app_tile_tx</endpoint_name>
                        <endpoint_tag>ECHO_APP_STATS_PORT</endpoint_tag>
                        <if_name>tcp_app_stats_req</if_name>
                        <cam_target/>
                    </dst_endpoint>
                </dsts>
            </interface>
        </interfaces>
    </endpoint>
    <endpoint>
        <endpoint_name>udp_tx_tile</endpoint_name>
        <port_name>udp_tx</port_name>
        <endpoint_x>2</endpoint_x>
        <endpoint_y>1</endpoint_y>
        <interfaces>
            <interface>
                <if_name>udp_pkt_tx</if_name>
                <fbits>PKT_IF_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>ip_tx_tile</endpoint_name>
                        <if_name>ip_pkt_tx</if_name>
                    </dst_endpoint>
                </dsts>
            </interface>
        </interfaces>
    </endpoint>
    <endpoint>
        <endpoint_name>tcp_logger_rx_tile</endpoint_name>
        <port_name>tcp_logger</port_name>
        <endpoint_x>0</endpoint_x>
        <endpoint_y>2</endpoint_y>
        <interfaces>
            <interface>
                <if_name>tcp_logger_record</if_name>
                <fbits>PKT_IF_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>tcp_rx_tile</endpoint_name>
                        <if_name>tcp_pkt_rx</if_name>
                    </dst_endpoint>
                </dsts>
            </interface>
            <interface>
                <if_name>tcp_logger_read_req</if_name>
                <fbits>TCP_LOGGER_READ_IF_FBITS</fbits>
            </interface>
            <interface>
                <if_name>tcp_logger_read_resp</if_name>
                <fbits>TCP_LOGGER_READ_IF_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>udp_tx_tile</endpoint_name>
                        <if_name>udp_pkt_tx</if_name>
                    </dst_endpoint>
                </dsts>
            </interface>
        </interfaces>
    </endpoint>
    <endpoint>
        <endpoint_name>tcp_logger_tx_tile</endpoint_name>
        <port_name>tcp_logger</port_name>
        <endpoint_x>3</endpoint_x>
        <endpoint_y>2</endpoint_y>
        <interfaces>
            <interface>
                <if_name>tcp_logger_record</if_name>
                <fbits>PKT_IF_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>ip_tx_tile</endpoint_name>
                        <if_name>ip_pkt_tx</if_name>
                    </dst_endpoint>
                </dsts>
            </interface>
            <interface>
                <if_name>tcp_logger_read_req</if_name>
                <fbits>TCP_LOGGER_READ_IF_FBITS</fbits>
            </interface>
            <interface>
                <if_name>tcp_logger_read_resp</if_name>
                <fbits>TCP_LOGGER_READ_IF_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>udp_tx_tile</endpoint_name>
                        <if_name>udp_pkt_tx</if_name>
                    </dst_endpoint>
                </dsts>
            </interface>
        </interfaces>
    </endpoint>
    <endpoint>
        <endpoint_name>tcp_rx_tile</endpoint_name>
        <port_name>tcp_rx</port_name>
        <endpoint_x>1</endpoint_x>
        <endpoint_y>2</endpoint_y>
        <interfaces>
            <interface>
                <if_name>tcp_pkt_rx</if_name>
                <fbits>PKT_IF_FBITS</fbits>
                <depends_on endpoint_name="tcp_rx_tile" if_name="tcp_rx_mem_req"/>
            </interface>
            <interface>
                <if_name>tcp_rx_mem_req</if_name>
                <fbits>TCP_RX_BUF_IF_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>dram_rx_tile</endpoint_name>
                        <if_name>dram_req</if_name>
                    </dst_endpoint>
                </dsts>
            </interface>
            <interface>
                <if_name>tcp_rx_mem_resp</if_name>
                <fbits>TCP_RX_BUF_IF_FBITS</fbits>
            </interface>
            <interface>
                <if_name>tcp_rx_app_req</if_name>
                <fbits>TCP_RX_APP_PTR_IF_FBITS</fbits>
            </interface>
            <interface>
                <if_name>tcp_rx_app_resp</if_name>
                <fbits>TCP_RX_APP_PTR_IF_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>app_tile_rx</endpoint_name>
                        <endpoint_tag>{APP_PORT}</endpoint_tag>
                        <if_name>app_tcp_rx_notif</if_name>
                        <cam_target/>
                    </dst_endpoint>
                    <dst_endpoint>
                        <endpoint_name>app_tile_rx</endpoint_name>
                        <if_name>app_tcp_rx_resp</if_name>
                    </dst_endpoint>
                    <dst_endpoint>
                        <endpoint_name>ip_rewrite_manager_rx_tile</endpoint_name>
                        <endpoint_tag>{IP_REWRITE_MANAGER_PORT}</endpoint_tag>
                        <if_name>ip_rewrite_tcp_resp</if_name>
                        <cam_target/>
                    </dst_endpoint>
                    <dst_endpoint>
                        <endpoint_name>ip_rewrite_manager_rx_tile</endpoint_name>
                        <if_name>ip_rewrite_tcp_resp</if_name>
                    </dst_endpoint>
                </dsts>
            </interface>
        </interfaces>
    </endpoint>
    <endpoint>
        <endpoint_name>tcp_tx_tile</endpoint_name>
        <port_name>tcp_tx</port_name>
        <endpoint_x>2</endpoint_x>
        <endpoint_y>2</endpoint_y>
        <interfaces>
            <interface>
                <if_name>tcp_pkt_tx</if_name>
                <fbits>PKT_IF_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>tcp_logger_tx_tile</endpoint_name>
                        <if_name>tcp_logger_record</if_name>
                    </dst_endpoint>
                </dsts>
            </interface>
            <interface>
                <if_name>tcp_tx_mem_req</if_name>
                <fbits>TCP_TX_BUF_IF_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>dram_tx_tile</endpoint_name>
                        <if_name>dram_req</if_name>
                    </dst_endpoint>
                </dsts>
            </interface>
            <interface>
                <if_name>tcp_tx_mem_resp</if_name>
                <fbits>TCP_TX_BUF_IF_FBITS</fbits>
                <depends_on endpoint_name="tcp_tx_tile" if_name="tcp_pkt_tx"/>
            </interface>
            <interface>
                <if_name>tcp_tx_app_req</if_name>
                <fbits>TCP_TX_APP_PTR_IF_FBITS</fbits>
            </interface>
            <interface>
                <if_name>tcp_tx_app_resp</if_name>
                <fbits>TCP_TX_APP_PTR_IF_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>app_tile_tx</endpoint_name>
                        <if_name>app_tcp_tx_resp</if_name>
                    </dst_endpoint>
                    <dst_endpoint>
                        <endpoint_name>ip_rewrite_manager_tx_tile</endpoint_name>
                        <if_name>ip_rewrite_tcp_resp</if_name>
                    </dst_endpoint>
                </dsts>
            </interface>
        </interfaces>
    </endpoint>
    <endpoint>
        <endpoint_name>dram_rx_tile</endpoint_name>
        <port_name>masked_mem</port_name>
        <endpoint_x>1</endpoint_x>
        <endpoint_y>3</endpoint_y>
        <interfaces>
            <interface>
                <if_name>dram_req</if_name>
                <fbits>TCP_RX_BUF_IF_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>tcp_rx_tile</endpoint_name>
                        <if_name>tcp_rx_mem_resp</if_name>
                    </dst_endpoint>
                    <dst_endpoint>
                        <endpoint_name>app_tile_rx</endpoint_name>
                        <if_name>app_rx_mem_resp</if_name>
                    </dst_endpoint>
                    <dst_endpoint>
                        <endpoint_name>ip_rewrite_manager_rx_tile</endpoint_name>
                        <if_name>ip_rewrite_mem_resp</if_name>
                    </dst_endpoint>
                </dsts>
            </interface>
        </interfaces>
    </endpoint>
    <endpoint>
        <endpoint_name>dram_tx_tile</endpoint_name>
        <port_name>masked_mem</port_name>
        <endpoint_x>2</endpoint_x>
        <endpoint_y>3</endpoint_y>
        <interfaces>
            <interface>
                <if_name>dram_req</if_name>
                <fbits>TCP_TX_BUF_IF_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>tcp_tx_tile</endpoint_name>
                        <if_name>tcp_tx_mem_resp</if_name>
                    </dst_endpoint>
                    <dst_endpoint>
                        <endpoint_name>app_tile_tx</endpoint_name>
                        <if_name>app_tx_mem_resp</if_name>
                    </dst_endpoint>
                    <dst_endpoint>
                        <endpoint_name>ip_rewrite_manager_tx_tile</endpoint_name>
                        <if_name>ip_rewrite_mem_resp</if_name>
                    </dst_endpoint>
                </dsts>
            </interface>
        </interfaces>
    </endpoint>
    <endpoint>
        <endpoint_name>ip_rewrite_manager_rx_tile</endpoint_name>
        <port_name>ip_rewrite_manager_rx</port_name>
        <endpoint_x>0</endpoint_x>
        <endpoint_y>3</endpoint_y>
        <interfaces>
            <interface>
                <if_name>ip_rewrite_tcp_req</if_name>
                <fbits>IP_REWRITE_MANAGER_RX_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>tcp_rx_tile</endpoint_name>
                        <if_name>tcp_rx_app_req</if_name>
                    </dst_endpoint>
                </dsts>
            </interface>
            <interface>
                <if_name>ip_rewrite_tcp_resp</if_name>
                <fbits>IP_REWRITE_MANAGER_RX_FBITS</fbits>
            </interface>
            <interface>
                <if_name>ip_rewrite_mem_req</if_name>
                <fbits>IP_REWRITE_TCP_RX_BUF_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>dram_rx_tile</endpoint_name>
                        <if_name>dram_req</if_name>
                    </dst_endpoint>
                </dsts>
            </interface>
            <interface>
                <if_name>ip_rewrite_mem_resp</if_name>
                <fbits>IP_REWRITE_TCP_RX_BUF_FBITS</fbits>
            </interface>
            <interface>
                <if_name>ip_rewrite_tile_ctrl_req</if_name>
                <fbits>IP_REWRITE_TABLE_CTRL_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>ip_rewrite_rx_tile</endpoint_name>
                        <if_name>ip_rewrite_ctrl_req</if_name>
                    </dst_endpoint>
                    <dst_endpoint>
                        <endpoint_name>ip_rewrite_tx_tile</endpoint_name>
                        <if_name>ip_rewrite_ctrl_req</if_name>
                    </dst_endpoint>
                </dsts>
            </interface>
            <interface>
                <if_name>ip_rewrite_tile_ctrl_resp</if_name>
                <fbits>IP_REWRITE_TABLE_CTRL_FBITS</fbits>
            </interface>
        </interfaces>
    </endpoint>
    <endpoint>
        <endpoint_name>ip_rewrite_manager_tx_tile</endpoint_name>
        <port_name>ip_rewrite_manager_tx</port_name>
        <endpoint_x>3</endpoint_x>
        <endpoint_y>3</endpoint_y>
        <interfaces>
            <interface>
                <if_name>ip_rewrite_tcp_req</if_name>
                <fbits>IP_REWRITE_MANAGER_TX_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>tcp_tx_tile</endpoint_name>
                        <if_name>tcp_tx_app_req</if_name>
                    </dst_endpoint>
                    <dst_endpoint>
                        <endpoint_name>tcp_rx_tile</endpoint_name>
                        <if_name>tcp_rx_app_req</if_name>
                    </dst_endpoint>
                </dsts>
            </interface>
            <interface>
                <if_name>ip_rewrite_tcp_resp</if_name>
                <fbits>IP_REWRITE_MANAGER_TX_FBITS</fbits>
            </interface>
            <interface>
                <if_name>ip_rewrite_mem_req</if_name>
                <fbits>IP_REWRITE_TCP_TX_BUF_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>dram_tx_tile</endpoint_name>
                        <if_name>dram_req</if_name>
                    </dst_endpoint>
                </dsts>
            </interface>
            <interface>
                <if_name>ip_rewrite_mem_resp</if_name>
                <fbits>IP_REWRITE_TCP_TX_BUF_FBITS</fbits>
            </interface>
        </interfaces>
    </endpoint>
    <endpoint>
        <endpoint_name>app_tile_rx</endpoint_name>
        <port_name>app_tile_rx</port_name>
        <endpoint_x>1</endpoint_x>
        <endpoint_y>4</endpoint_y>
        <interfaces>
            <interface>
                <if_name>app_rx_mem_req</if_name>
                <fbits>RX_BUF_IF_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>dram_rx_tile</endpoint_name>
                        <if_name>dram_req</if_name>
                    </dst_endpoint>
                </dsts>
            </interface>
            <interface>
                <if_name>app_rx_mem_resp</if_name>
                <fbits>RX_BUF_IF_FBITS</fbits>
            </interface>
            <interface>
                <if_name>app_tcp_rx_notif</if_name>
                <fbits>TCP_RX_APP_NOTIF_FBITS</fbits>
            </interface>
            <interface>
                <if_name>app_tcp_rx_req</if_name>
                <fbits>RX_CTRL_IF_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>tcp_rx_tile</endpoint_name>
                        <if_name>tcp_rx_app_req</if_name>
                    </dst_endpoint>
                </dsts>
            </interface>
            <interface>
                <if_name>app_tcp_rx_resp</if_name>
                <fbits>RX_CTRL_IF_FBITS</fbits>
            </interface>
        </interfaces>
    </endpoint>
    <endpoint>
        <endpoint_name>app_tile_tx</endpoint_name>
        <port_name>app_tile_tx</port_name>
        <endpoint_x>2</endpoint_x>
        <endpoint_y>4</endpoint_y>
        <interfaces>
            <interface>
                <if_name>app_tcp_tx_req</if_name>
                <fbits>TX_CTRL_IF_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>tcp_tx_tile</endpoint_name>
                        <if_name>tcp_tx_app_req</if_name>
                    </dst_endpoint>
                </dsts>
            </interface>
            <interface>
                <if_name>app_tcp_tx_resp</if_name>
                <fbits>TX_CTRL_IF_FBITS</fbits>
            </interface>
            <interface>
                <if_name>app_tx_mem_req</if_name>
                <fbits>TX_BUF_IF_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>dram_tx_tile</endpoint_name>
                        <if_name>dram_req</if_name>
                    </dst_endpoint>
                </dsts>
            </interface>
            <interface>
                <if_name>app_tx_mem_resp</if_name>
                <fbits>TX_BUF_IF_FBITS</fbits>
            </interface>
            <interface>
                <if_name>tcp_app_stats_req</if_name>
                <fbits>ECHO_APP_READ_IF_FBITS</fbits>
            </interface>
            <interface>
                <if_name>tcp_app_stats_resp</if_name>
                <fbits>ECHO_APP_READ_IF_FBITS</fbits>
                <dsts>
                    <dst_endpoint>
                        <endpoint_name>udp_tx_tile</endpoint_name>
                        <if_name>udp_pkt_tx</if_name>
                    </dst_endpoint>
                </dsts>
            </interface>
        </interfaces>
    </endpoint>
</tiles>
</design>
